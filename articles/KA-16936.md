---
title: "AEM에서는 SSL/TLS를 통해 액세스한 경우 로드 밸런서를 종료하여 사용자를 http로 리디렉션합니다 | AEM"
description: 설명
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: "KCS"
resolution: Resolution
internal-notes: "Helpx Link: https://helpx.adobe.com/experience-manager/kb/AEM-redirecting-back-to-http-on-accessed-via-SSL-terminated-Load-Balancer.html"
bug: false
article-created-by: Emily Geary
article-created-date: "4/12/2021 6:21:34 PM"
article-published-by: Emily Geary
article-published-date: "4/12/2021 6:26:15 PM"
version-number: 1
article-number: KA-16936
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=684ec8e8-bb9b-eb11-b1ac-000d3a3680d8"
exl-id: 52e50c09-67f2-46a2-90a7-df769d76a0dd
source-git-commit: 0c3e421beca46d9fe1952b1f98538a50697216a0
workflow-type: tm+mt
source-wordcount: '341'
ht-degree: 1%

---

# AEM에서는 SSL/TLS를 통해 액세스한 로드 밸런서를 통해 사용자를 다시 http로 리디렉션합니다 | AEM

## 설명


SSL을 통해 AEM에 액세스하면 로드 밸런서(또는 SSL에서 CDN이 종료됨)가 다시 https에서 http로 리디렉션됩니다.

로드 밸런서에서 SSL 종료는 로드 밸런서에 SSL 인증서가 설치됨을 의미합니다. 최종 사용자는 `https://`및 Dispatcher/Web Server 및 AEM은 `http://`.



<b>원인</b>

로드 밸런서마다 서로 다른 헤더를 보내 SSL이 업스트림으로 종료되었음을 백 엔드 시스템에 알립니다. 예, [Amazon ELB는 &quot;X-Forwarded-Proto: https&quot;](https://docs.aws.amazon.com/elasticloadbalancing/latest/classic/x-forwarded-headers.html#x-forwarded-proto).


## 해상도


문제를 해결하려면

<b>I. Dispatcher 업데이트 `/clientheaders` 구성</b>

로드 밸런서의 설명서를 참조하여 다운스트림 시스템에서 SSL을 종료했음을 알리는 데 설정되는 헤더를 확인하십시오. 간단히 하기 위해 이 단계에서 올바른 HTTP 헤더는 다음과 같다고 가정합니다 *`X-Forwarded-Proto: https`*

1. Dispatcher 서버에 로그인합니다.
2. 디스패처 팜을 엽니다. `.any` 구성.
3. 에 헤더 추가 `/clientheaders` 섹션을 참조하십시오.


로드 밸런서 없이 디스패처를 사용하고 있거나 로드 밸런서나 프록시가 디스패처를 설정하지 못하는 경우 `X-Forwarded-Proto` 헤더 를 연결한 다음 웹 서버나 디스패처 수준에서 설정할 수 있습니다. 사용 중인 경우 [!DNL Apache HTTP Server]를 업데이트한 후 다음 지시어로 HTTPS VirtualHost 를 업데이트합니다.


| 1 | `RequestHeader ` `set` `X-Forwarded-Proto ` `"https"` |
| --- | --- |


<b>내가.. 헤더 구성 업데이트:</b>

1. 이동 *http://host:port*/system/console/configMgr/org.apache.felix.http.sslfilter.SslFilter를 참조하고 관리자로 로그인합니다.
2. SSL 전달 헤더를 로 설정 `X-Forwarded-Proto`.
3. SSL 전달 값을 https로 설정합니다.
4. 저장을 클릭합니다.


참고:

사용되는 프로토콜을 백 엔드에 알려주는 역방향 프록시 헤더에 대한 표준은 없습니다. 하지만, 다음은 일부 알려진 내용입니다.

- Amazon ELB ([!DNL Elastic Load Balancer])에서 를 사용합니다 `X-Forwarded-Proto: https` 헤더.
- [!DNL Amazon Cloudfront] CDN 사용 `X-Cloudfront-Proto: https` 헤더.


<b>3. Jetty OSGi 구성 업데이트(AEM 6.3 이상 버전)</b>

AEM 6.3 이상 버전에서는 추가 구성이 필요합니다.

- http://aem-host:port/system/console/configMgr/org.apache.felix.http에 로그인합니다.
- 설정 활성화 <b>프록시/로드 밸런서 연결 활성화</b>, 그리고 저장합니다.
