---
title: 기존 AEM 데이터 저장소를 AWS S3으로 마이그레이션 단계
description: 기존 Adobe Experience Manager(AEM) 데이터스토어를 Amazon Simple Storage Service(AWS S3)로 마이그레이션하는 방법에 대해 알아봅니다.
solution: Experience Manager
product: Experience Manager
applies-to: Experience Manager
keywords: KCS, AEM, AWS, 마이그레이션, S3
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Tanay Sharma .
article-created-date: 11/9/2023 10:42:05 AM
article-published-by: Tanay Sharma .
article-published-date: 11/9/2023 2:24:52 PM
version-number: 7
article-number: KA-16057
dynamics-url: https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=baf2009e-ec7e-ee11-8179-6045bd006149
exl-id: 308c97c4-cb73-4c79-88be-f3d88be4802c
source-git-commit: 587bd12eee4c59977122393de5e73f15f6062614
workflow-type: tm+mt
source-wordcount: '307'
ht-degree: 2%

---

# 기존 AEM 데이터 저장소를 AWS S3으로 마이그레이션 단계


기존 Adobe Experience Manager(AEM) 데이터 저장소를 Amazon Simple Storage Service(AWS S3)로 마이그레이션하려면 아래 단계를 따르십시오.

## 설명 {#description}


### 환경

Experience Manager



### 문제/증상

기존 Adobe Experience Manager(AEM) 데이터스토어를 Amazon Simple Storage Service(AWS S3)로 마이그레이션하는 단계는 무엇입니까?


## 해결 방법 {#resolution}


다음은 S3 마이그레이션 단계입니다.

1. 패키지에 대한 디버그 로그 활성화 *org.apache.jackrabbit.oak.blob* 및 *org.apache.jackrabbit.oak.plugins.blob*.
2. AEM을 종료합니다.
3. 에서 기존 FDS 구성 백업 *../crx-quickstart/install/*.
4. 에서 FileDataStore.config 삭제 *../crx-quickstart/install/*.
5. S3 커넥터를 *../crx-quickstart/install/folder*.
6. S3 구성 파일 만들기 *../crx-quickstart/install/*. 아래 구성을 추가합니다. 
   - accessKey=
   - connectionTimeout=&quot;120000&quot;
   - maxConnections=&quot;40&quot;
   - maxErrorRetry=&quot;10&quot;
   - s3Bucket=&quot;XXXXXXXX&quot;
   - s3Region=&quot;XXXXXXXX&quot;
   - secretKey=&quot;XXXXXXXX&quot;
   - socketTimeout=&quot;120000&quot;
   - writeThreads=&quot;30&quot;
   - path=&quot;crx-quickstart/repository/datastore&quot;
7. 생성된 폴더 - *upload/download/tmp* 내부 하위 디렉터리 *../crx-quickstart/repository/datastore/*.
8. 설치 폴더 및 *../crx-quickstart/repository/datastore* 폴더는 AEM이 실행 중인 사용자가 소유합니다.
9. 에서 모든 컨텐츠를 이동합니다.*./crx-quickstart/repository/datastore/* 끝 *../crx-quickstart/repository/datastore/upload/folder*.
10. AEM이 다음으로 시작하도록 시작 스크립트에서 실행 모드 업데이트 *crx3tar-nofds* 실행 모드.
11. 시작 모드(예: 검색 및 삭제)에 대한 이전 AEM 설정 삭제 *sling.options.file*)
12. 에서 이전 AEM 캐시 FDS 구성 삭제 *../crx-quickstart/launchpad/config/org/apache/jackrabbit/oak/plugins/blob/datastore/*.
13. AEM을 시작합니다.


<b>다음 단계:</b>

1. AEM에서 S3에 파일 업로드를 시작하고 시작이 완료되면 error.log 파일을 모니터링합니다.
2. 업로드 폴더가 비어 있는지 확인합니다.
3. 모든 번들이 시작되었고 FileDataStore 구성이 없고 S3 구성만 있는지 확인합니다.
4. 새 항목 확인 *sling.options.file* 이(가) 만들어졌습니다.
5. 업로드할 로그:





```
05.02.2020 20:19:53.326 *INFO* [ oak-ds-async-upload-thread-5]  org.apache.jackrabbit.oak.plugins.blob.UploadStagingCache Successfully added [ ffc3b119d6b8dc9955edadbf0eca207d9cce2937cf97abc50accbc7f2cb342e5] , [ C:\AEM\6.4\6.4.6.0\Latest_Correct\crx-quickstart\repository\datastore\upload\ff\c3\b1\ffc3b119d6b8dc9955edadbf0eca207d9cce2937cf97abc50accbc7f2cb342e5] 
05.02.2020 20:19:53.398 *INFO* [ oak-ds-async-upload-thread-8]  org.apache.jackrabbit.oak.plugins.blob.UploadStagingCache Successfully added [ ffdc13dce5fd816e1a63e83ecec1cba009024a4f7e4f4297f648e8cf3a28f98b] , [ C:\AEM\6.4\6.4.6.0\Latest_Correct\crx-quickstart\repository\datastore\upload\ff\dc\13\ffdc13dce5fd816e1a63e83ecec1cba009024a4f7e4f4297f648e8cf3a28f98b] 
05.02.2020 20:19:53.451 *INFO* [ oak-ds-async-upload-thread-6]  org.apache.jackrabbit.oak.plugins.blob.UploadStagingCache Successfully added [ repository-151f8454-c398-4d12-b5e8-1617aa8cab79] , [ C:\AEM\6.4\6.4.6.0\Latest_Correct\crx-quickstart\repository\datastore\upload\re\po\si\repository-151f8454-c398-4d12-b5e8-1617aa8cab79] 
05.02.2020 20:19:53.454 *INFO* [ oak-ds-async-upload-thread-3]  org.apache.jackrabbit.oak.plugins.blob.UploadStagingCache Successfully added [ fff3fcbb484d002d7db9cccc96971c06e8926a4a5e07cf93f4db7c450690fa71] , [ C:\AEM\6.4\6.4.6.0\Latest_Correct\crx-quickstart\repository\datastore\upload\ff\f3\fc\fff3fcbb484d002d7db9cccc96971c06e8926a4a5e07cf93f4db7c450690fa71] 
05.02.2020 20:19:53.488 *INFO* [ oak-ds-async-upload-thread-4]  org.apache.jackrabbit.oak.plugins.blob.UploadStagingCache Successfully added [ ffbbcd9f72eb5373761751e8d5ecbf4022f58e70119e354557bc32eb17fe6b2a] , [ C:\AEM\6.4\6.4.6.0\Latest_Correct\crx-quickstart\repository\datastore\upload\ff\bb\cd\ffbbcd9f72eb5373761751e8d5ecbf4022f58e70119e354557bc32eb17fe6b2a]
```


<b>업로드 파일 삭제:</b>




```
05.02.2020 20:22:40.794 *INFO* [ oak-ds-cache-scheduled-thread-1]  org.apache.jackrabbit.oak.plugins.blob.UploadStagingCache Starting purge of uploaded files
05.02.2020 20:22:40.795 *INFO* [ oak-ds-cache-scheduled-thread-1]  org.apache.jackrabbit.oak.plugins.blob.DataStoreCacheUtils Deleted file [ C:\AEM\6.4\6.4.6.0\Latest_Correct\crx-quickstart\repository\datastore\upload\bc\18\5a\bc185acc8571b7e0f97dac92b0285fe248004909c3d8264e03cfb2a8101bada6] 
05.02.2020 20:22:40.800 *INFO* [ oak-ds-cache-scheduled-thread-1]  org.apache.jackrabbit.oak.plugins.blob.DataStoreCacheUtils Deleted file [ C:\AEM\6.4\6.4.6.0\Latest_Correct\crx-quickstart\repository\datastore\upload\fa\6f\c1\fa6fc18d5b95cf213ff5ac5d9eb0fed7c61310ac2c373ca2cbf187844bf39c24] 
05.02.2020 20:22:40.801 *INFO* [ oak-ds-cache-scheduled-thread-1]  org.apache.jackrabbit.oak.plugins.blob.DataStoreCacheUtils Deleted file [ C:\AEM\6.4\6.4.6.0\Latest_Correct\crx-quickstart\repository\datastore\upload\d9\b4\f3\d9b4f3f58a9b83a1e1647cc23b77d672836171afdccbbbd8726f480b741a4c2e] 
05.02.2020 20:22:40.802 *INFO* [ oak-ds-cache-scheduled-thread-1]  org.apache.jackrabbit.oak.plugins.blob.DataStoreCacheUtils Deleted file [ C:\AEM\6.4\6.4.6.0\Latest_Correct\crx-quickstart\repository\datastore\upload\c6\3a\df\c63adf50a7ebc7b1652740fb8be9b72f5b76d22477f0d411becab2f8eeceb70b]
```
