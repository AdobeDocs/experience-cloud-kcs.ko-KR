---
title: "위치 힌트, AAM DCS 지역 노드 및 ID 서비스 위치 힌트"
description: 설명
solution: Audience Manager,Experience Platform
product: Audience Manager,Experience Platform
applies-to: "Audience Manager,Experience Platform"
keywords: "KCS,.위치 힌트,AEP, AEP WebSDK,ID 서비스,AAM,DCS,지역 노드"
resolution: Resolution
internal-notes: null
bug: false
article-created-by: Amol Mahajan
article-created-date: "3/23/2023 10:19:26 AM"
article-published-by: Amol Mahajan
article-published-date: "3/23/2023 10:34:46 AM"
version-number: 4
article-number: KA-21677
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=42b1582f-64c9-ed11-b597-6045bd006b25"
source-git-commit: 8693ad37a8dd2e415f81a494a45c7d5eaf5cd3e1
workflow-type: tm+mt
source-wordcount: '783'
ht-degree: 2%

---

# 위치 힌트, AAM DCS 지역 노드 및 ID 서비스 위치 힌트

## 설명 {#description}

<b>환경</b>
- Experience Platform
- Audience Manager

<br><br> <br><br><b>문제/증상</b><br><br>AEP(Adobe Experience Platform) WebSDK 위치 힌트, Experience Cloud ID 서비스 위치 힌트 및 AAM DCS 지역 노드 간의 관계는 무엇이며, 이러한 관계를 이해하는 것이 중요한 이유는 무엇입니까?<br>

## 해결 방법 {#resolution}


Experience Edge로 데이터를 전송하는 AEP WebSDK(AAM) 및 Adobe Audience Manager() 실시간 데이터 수집은 전 세계에 분산된 지역 노드에서 발생합니다. 7개의 지역 노드가 있고 AEP WebSDK/Experience Edge 및 AAM 데이터 수집에서는 동일한 노드를 사용합니다. AAM DCS(데이터 수집 서버)는 Experience Edge를 구성하는 동일한 네트워크 인프라를 활용합니다. 마찬가지로 Experience Cloud ID 서비스는 AAM 기술을 사용하므로 ID 서비스 위치 힌트는 AAM 지역 데이터 수집 노드와 동일합니다. 즉, AAM DCS 노드 = ID 서비스 위치 힌트 = Experience Edge 위치 힌트입니다. AAM 지역 노드는 이에 요약되어 있습니다 [설명서](https://experienceleague.adobe.com/docs/audience-manager/user-guide/api-and-sdk-code/dcs/dcs-api-reference/dcs-regions.html?lang=en)과 달리, 동일한 Experience Edge의 지역 노드는 이에 요약되어 있습니다 [설명서](https://experienceleague.adobe.com/docs/experience-platform/edge-network-server-api/location-hints.html?lang=en).

AAM 지역 노드 및 ID 서비스 위치 힌트는 숫자로 식별되고 Experience Edge는 영숫자 문자로 식별되지만 모두 동일한 영역(브라질 제외)에 정렬된다는 것을 알 수 있습니다.  아래 조회 테이블은 조회 테이블이 정렬되는 방식을 보여줍니다.


| Experience Edge 위치 힌트 | AAM DCS 영역 노드/ID 서비스 위치 힌트 |
| --- | --- |
| spg3 | ID: 3 호스트: apse.demdex.net |
| irl1 | ID: 6 호스트: irl1.demdex.net |
| va6 | ID: 7 호스트: use.demdex.net |
| aus3 | ID: 8 호스트: apse2.demdex.net |
| or2 | ID: 9 호스트: usw2.demdex.net |
| jpn3 | ID: 11 호스트: tyo3.demdex.net |
| ind1 | ID: 12 호스트: ind1.demdex.net |


실시간 응답이 필요한 대부분의 Adobe Experience Cloud 기능은 이러한 지역 노드를 활용합니다. 웹 페이지 또는 모바일 앱에서 첫 번째 호출 ID 서비스 또는 Experience Edge 호출은 사용할 지역 노드를 결정합니다. 위치 힌트는 다음 호출에 대한 응답에서 찾을 수 있습니다.

Experience Cloud ID 서비스:

![](assets/e80a1235-77bf-ed11-83ff-6045bd006239.png)



AEP 웹 SDK:

![](assets/8f50cbb3-75bf-ed11-83ff-6045bd006239.png)

최종 사용자에게 가장 가까운 지역 노드를 결정하면 영역 식별자가 앞으로 Analytics, Target 및 AEP WebSDK 호출을 통해 전달됩니다. Analytics에서 aamlh 쿼리 문자열 매개 변수로 전달됩니다.

![](assets/33af14ff-77bf-ed11-83ff-6045bd006239.png)

Target에서 로 전달됩니다. `experienceCloud.audienceManager.locationHint` 요청 페이로드 개체:

![](assets/dce94437-78bf-ed11-83ff-6045bd006239.png)

AEP 웹 SDK의 경우 지역 노드를 반영하도록 호출 경로가 업데이트됩니다.

![](assets/8245a050-79bf-ed11-83ff-6045bd006239.png)

<b>참고: </b>영역이 아직 결정되지 않았기 때문에 AEP WebSDK의 첫 번째 상호 작용 호출에는 경로에 영역이 없습니다. 하지만 위치 힌트는 응답에 있습니다(위에 설명된 대로). 원래 요청의 경로는 ...입니다../ee/v1/... 그러나 다음에 를 호출하면 /ee/ 및 /v1/ 경로 요소 사이의 지역 노드 정보가 포함됩니다.

이러한 매개 변수는 서버 측에서 전달된 Analytics 데이터가 올바른 AAM 에지 노드로 전달되고, Target이 동일한 에지 노드에서 세그먼트 정보를 요청하고, [AEP 데이터가 AAM으로 데이터를 전송합니다](https://experienceleague.adobe.com/docs/audience-manager/user-guide/implementation-integration-guides/integration-experience-platform/aam-aep-audience-sharing.html?lang=en) (및 대상 라이브러리의) 지역 노드를 수정합니다.

이 정보는 비표준 방식으로 서버측 또는 클라이언트측 히트를 Adobe의 솔루션으로 보낼 때 알고 있어야 합니다. 예를 들어, ECID(Experience Cloud ID)와 AEP 프로필을 동기화하기 위해 순전히 페이지에서 수동으로 구성된 AEP WebSDK 호출은 올바른 Experience Edge 지역 노드로 전송해야 합니다. 그렇지 않으면 AEP에서 AAM으로 공유된 모든 데이터가 AAM 백엔드 데이터베이스로 이동한 다음, AAM에서 각 에지 노드로 해당 데이터를 푸시하는 데 48시간이 추가로 소요되어, AAM(또는 대상 라이브러리)로 전송된 모든 AEP 세그먼트를 사용할 수 있는 시간이 크게 줄어듭니다. 또는 서버측 Analytics 요청이 노드 7으로 전송되지만 사용자의 페이지 내 Target 구현에서 영역 9를 사용하는 경우 데이터가 AAM US East 노드로 전달되고 Target이 세그먼트 정보를 위해 미국 서부 노드에 ping을 실행합니다. 최종 사용자는 24-48시간 후에 최종 노드가 동기화되기 전까지 대상 라이브러리 대상/AAM 세그먼트를 사용하는 Target 활동에 대한 자격이 없습니다. 다음과 같은 사용 사례에서 를 사용하여 ECID를 가져오는 것이 일반적인 방법입니다. [getMarketingCloudVisitorID](https://experienceleague.adobe.com/docs/id-service/using/id-service-api/methods/getmcvid.html?lang=en) (ID 서비스) 또는 [getIdentity](https://experienceleague.adobe.com/docs/experience-platform/edge/extension/accessing-the-ecid.html?lang=en) (웹 SDK) 함수 그러나 위치 힌트는 ECID를 가져올 뿐만 아니라 를 사용하여 검색하고 사용해야 합니다 [getLocationHint](https://experienceleague.adobe.com/docs/id-service/using/id-service-api/methods/getlocationhint.html?lang=en) (ID 서비스) 함수를 사용하거나 웹 SDK 호출의 응답 페이로드에서 검색합니다.








