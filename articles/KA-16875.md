---
title: "AEM에서 TarMK 인스턴스를 복제하는 방법"
description: 설명
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: "KCS"
resolution: Resolution
internal-notes: "From https://helpx.adobe.com/experience-manager/kb/how-to-clone-an-AEM-TarMK-instance-AEM.html"
bug: false
article-created-by: Emily Geary
article-created-date: "3/24/2021 11:36:07 PM"
article-published-by: Emily Geary
article-published-date: "3/24/2021 11:37:50 PM"
version-number: 2
article-number: KA-16875
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=371b76b1-f98c-eb11-a812-000d3a58b9d1"
exl-id: d9c35199-775f-4f24-8d30-3828bb11e7f6
source-git-commit: e8f4ca2dd578944d4fe399074fab461de88ad247
workflow-type: tm+mt
source-wordcount: '196'
ht-degree: 3%

---

# AEM에서 TarMK 인스턴스를 복제하는 방법

## 설명


이 문서에서는 저장소에 대해 TarMK(또는 TarMK + FileDataStore)를 사용하는 AEM 인스턴스를 올바르게 복제하는 방법에 대해 설명합니다.


## 해상도


아래 단계에서는 /mnt/aem/author 아래에 설치된 AEM과 Linux에서 rsync를 사용하여 AEM + TarMK + FileDataStore 인스턴스를 복사하는 방법을 보여 줍니다.

1. rsync와 같은 명령을 사용하여 실행 중인 동안 전체 AEM 인스턴스를 다른 서버에 복사합니다.  복사 프로세스 중에 타임스탬프를 유지하고 로그 폴더와 데이터 저장소를 제외해야 합니다.  예: `rsync -av --exclude 'crx-quickstart/logs' --exclude 'crx-quickstart/repository/repository/datastore' /mnt/aem/author user@dest-host:/mnt/aem/`
2. AEM 중지
3. 첫 번째 복사본이 수행된 이후 새로운 변경 내용을 가져오려면 TarMK 세그멘테이스토어 폴더의 다른 복사본을 시작합니다. `rsync -av /mnt/aem/author/crx-quickstart/repository/segmentstore/* user@dest-host:/mnt/aem/author/crx-quickstart/repository/segmentstore/`
4. AEM을 시작합니다.
5. AEM이 실행되는 동안 데이터 저장소를 복사합니다. 예: `rsync -av /mnt/aem/author user@dest-host:/mnt/aem/crx-quickstart/repository/repository/datastore /mnt/aem/crx-quickstart/repository/repository/`
6. 대상 서버에서 로그 폴더를 다시 만들고 crx-quickstart/repository/index 폴더를 삭제하고 crx-quickstart/launchpad/felix 폴더에서 sling.id.file을 삭제합니다.

`mkdir /mnt/aem/crx-quickstart/logs`

`rm -rf /mnt/aem/crx-quickstart/repository/index`

`find /mnt/aem/crx-quickstart/launchpad/felix -type f -name "sling.id.file" -exec rm -f {} \; -print`
7. 대상 서버에서 AEM을 시작하고 인스턴스를 테스트합니다.


<b>중요 참고:</b>

데이터 저장소가 segmentstore 폴더 뒤에 복사되며 모든 타임스탬프가 복사 중에 유지되는지 확인해야 합니다.  Rsync를 사용하면 타임스탬프를 -a 옵션과 함께 유지할 수 있습니다.
