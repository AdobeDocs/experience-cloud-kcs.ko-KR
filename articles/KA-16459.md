---
title: “AEM6.x에서 페이지 로드 중 \“응답이 커밋되었습니다\” 오류”
description: 설명
solution: Experience Manager
product: Experience Manager
applies-to: "Experience Manager"
keywords: “KCS”
resolution: Resolution
internal-notes: "Helpx Link: https://helpx.adobe.com/experience-manager/kb/Response-is-committed-error-during-page-load-AEM.html"
bug: false
article-created-by: Emily Geary
article-created-date: "3/17/2021 9:14:07 PM"
article-published-by: Emily Geary
article-published-date: "3/17/2021 9:19:09 PM"
version-number: 2
article-number: KA-16459
dynamics-url: "https://adobe-ent.crm.dynamics.com/main.aspx?forceUCI=1&pagetype=entityrecord&etn=knowledgearticle&id=b7b6d1b4-6587-eb11-a812-000d3a593216"
exl-id: 98b37428-ca8c-49c0-959e-7811986c23c7
source-git-commit: a59847e2e7e37f432cb01150b9444cd9dbf585df
workflow-type: ht
source-wordcount: '192'
ht-degree: 100%

---

# AEM6.x에서 페이지 로드 중 “응답이 커밋되었습니다” 오류

## 설명

정적 콘텐츠로 이동하는 도중에 org.eclipse.jetty.server.Request.getSession에서 “java.lang.IllegalStateException: 응답이 커밋되었습니다”라는 오류가 로그에 표시됩니다.

| `28.12.2016 08:58:44.162 *ERROR* 10.150.165.69 1482915520460 GET ` `/us/en/home/about` `.html HTTP` `/1` `.1 org.apache.sling.scripting.jsp.jasper.runtime.JspFactoryImpl Exception initializing page context`<br><br>`java.lang.IllegalStateException: Response is committed`<br><br>`at org.eclipse.jetty.server.Request.getSession(Request.java:1400)`<br><br>`at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:229)`<br><br>`at org.apache.felix.http.base.internal.dispatch.ServletRequestWrapper.getSession(ServletRequestWrapper.java:233)`<br><br>`at org.apache.felix.http.base.internal.dispatch.ServletRequestWrapper.getSession(ServletRequestWrapper.java:226)`<br><br>`at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:238)`<br><br>`at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:238)`<br><br>`at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:238)`<br><br>`at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:238)`<br><br>`at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:238)`<br><br>`at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:238)`<br><br>`at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:238)`<br><br>`at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:238)`<br><br>`at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:238)`<br><br>`at javax.servlet.http.HttpServletRequestWrapper.getSession(HttpServletRequestWrapper.java:238)`<br><br>`at org.apache.sling.scripting.jsp.jasper.runtime.PageContextImpl._initialize(PageContextImpl.java:149)`<br><br>`at org.apache.sling.scripting.jsp.jasper.runtime.PageContextImpl.initialize(PageContextImpl.java:127)`<br><br>`at org.apache.sling.scripting.jsp.jasper.runtime.JspFactoryImpl.internalGetPageContext(JspFactoryImpl.java:88)`<br><br>`at org.apache.sling.scripting.jsp.jasper.runtime.JspFactoryImpl.getPageContext(JspFactoryImpl.java:57)`<br><br>`at org.apache.sling.scripting.jsp.jasper.compiler.JspRuntimeContext$JspFactoryHandler.getPageContext(JspRuntimeContext.java:104)`<br><br>`at org.apache.jsp.apps.geometrixx.components.page.aboutlanding_002dpage.template_002dfootlibs_jsp._jspService(template_002dfootlibs_jsp.java:44)`<br><br>`at org.apache.sling.scripting.jsp.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)`<br><br>`at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)`<br><br>`at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:502)`<br><br>`at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:449)`<br><br>`at org.apache.sling.scripting.jsp.JspScriptEngineFactory.callJsp(JspScriptEngineFactory.java:284)`<br>`at org.apache.sling.scripting.jsp.JspScriptEngineFactory.access$100(JspScriptEngineFactory.java:102)`<br>`at org.apache.sling.scripting.jsp.JspScriptEngineFactory$JspScriptEngine.eval(JspScriptEngineFactory.java:536)`<br>`at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:388)`<br>`at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:184)`<br>`at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:491)`<br>`at com.day.cq.wcm.tags.IncludeTag.includeScript(IncludeTag.java:178)`<br>`at com.day.cq.wcm.tags.IncludeTag.doEndTag(IncludeTag.java:95)`<br>`at org.apache.jsp.apps.geometrixx.components.page.base_002dtemplate_002dpage.footerlibs_jsp._jspx_meth_cq_005finclude_005f0(footerlibs_jsp.java:433)`<br>`at org.apache.jsp.apps.geometrixx.components.page.base_002dtemplate_002dpage.footerlibs_jsp._jspService(footerlibs_jsp.java:295)`<br>`at org.apache.sling.scripting.jsp.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)`<br>`at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)`<br>`at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:502)`<br>`at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:449)`<br>`at org.apache.sling.scripting.jsp.JspScriptEngineFactory.callJsp(JspScriptEngineFactory.java:284)`<br>`at org.apache.sling.scripting.jsp.JspScriptEngineFactory.access$100(JspScriptEngineFactory.java:102)`<br>`at org.apache.sling.scripting.jsp.JspScriptEngineFactory$JspScriptEngine.eval(JspScriptEngineFactory.java:536)`<br>`at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:388)`<br>`at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:184)`<br>`at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:491)`<br>`at com.day.cq.wcm.tags.IncludeTag.includeScript(IncludeTag.java:178)`<br>`at com.day.cq.wcm.tags.IncludeTag.doEndTag(IncludeTag.java:95)`<br>`at org.apache.jsp.apps.geometrixx.components.page.base_002dtemplate_002dpage.body_jsp._jspx_meth_cq_005finclude_005f4(body_jsp.java:549)`<br>`at org.apache.jsp.apps.geometrixx.components.page.base_002dtemplate_002dpage.body_jsp._jspService(body_jsp.java:299)`<br>`at org.apache.sling.scripting.jsp.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)`<br>`at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)`<br>`at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:502)`<br>`at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:449)`<br>`at org.apache.sling.scripting.jsp.JspScriptEngineFactory.callJsp(JspScriptEngineFactory.java:284)`<br>`at org.apache.sling.scripting.jsp.JspScriptEngineFactory.access$100(JspScriptEngineFactory.java:102)`<br>`at org.apache.sling.scripting.jsp.JspScriptEngineFactory$JspScriptEngine.eval(JspScriptEngineFactory.java:536)`<br>`at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:388)`<br>`at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:184)`<br>`at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:491)`<br>`at com.day.cq.wcm.tags.IncludeTag.includeScript(IncludeTag.java:178)`<br>`at com.day.cq.wcm.tags.IncludeTag.doEndTag(IncludeTag.java:95)`<br>`at org.apache.jsp.apps.geometrixx.components.page.base_002dtemplate_002dpage.base_002dtemplate_002dpage_jsp._jspx_meth_cq_005finclude_005f1(base_002dtemplate_002dpage_jsp.java:458)`<br>`at org.apache.jsp.apps.geometrixx.components.page.base_002dtemplate_002dpage.base_002dtemplate_002dpage_jsp._jspService(base_002dtemplate_002dpage_jsp.java:362)`<br>`at org.apache.sling.scripting.jsp.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)`<br>`at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)`<br>`at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:502)`<br>`at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:449)`<br>`at org.apache.sling.scripting.jsp.JspScriptEngineFactory.callJsp(JspScriptEngineFactory.java:284)`<br>`at org.apache.sling.scripting.jsp.JspScriptEngineFactory.access$100(JspScriptEngineFactory.java:102)`<br>`at org.apache.sling.scripting.jsp.JspScriptEngineFactory$JspScriptEngine.eval(JspScriptEngineFactory.java:536)`<br>`at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:388)`<br>`at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:184)`<br>`at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:491)`<br>`at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:546)`<br>`at org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:44)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:77)`<br>`at com.day.cq.personalization.impl.TargetComponentFilter.doFilter(TargetComponentFilter.java:96)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.day.cq.wcm.core.impl.WCMDebugFilter.doFilter(WCMDebugFilter.java:133)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.day.cq.wcm.core.impl.WCMComponentFilter.doFilter(WCMComponentFilter.java:265)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.day.cq.wcm.core.impl.WCMDeveloperModeFilter.doFilter(WCMDeveloperModeFilter.java:114)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processComponent(SlingRequestProcessorImpl.java:282)`<br>`at org.apache.sling.engine.impl.SlingRequestProcessorImpl.dispatchRequest(SlingRequestProcessorImpl.java:322)`<br>`at org.apache.sling.engine.impl.request.SlingRequestDispatcher.dispatch(SlingRequestDispatcher.java:211)`<br>`at org.apache.sling.engine.impl.request.SlingRequestDispatcher.include(SlingRequestDispatcher.java:104)`<br>`at com.day.cq.wcm.core.impl.WCMComponentFilter$ForwardRequestDispatcher.include(WCMComponentFilter.java:503)`<br>`at org.apache.jsp.libs.cq.Page.Page_jsp._jspService(Page_jsp.java:106)`<br>`at org.apache.sling.scripting.jsp.jasper.runtime.HttpJspBase.service(HttpJspBase.java:70)`<br>`at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)`<br>`at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:502)`<br>`at org.apache.sling.scripting.jsp.jasper.servlet.JspServletWrapper.service(JspServletWrapper.java:449)`<br>`at org.apache.sling.scripting.jsp.JspScriptEngineFactory.callJsp(JspScriptEngineFactory.java:284)`<br>`at org.apache.sling.scripting.jsp.JspScriptEngineFactory.access$100(JspScriptEngineFactory.java:102)`<br>`at org.apache.sling.scripting.jsp.JspScriptEngineFactory$JspScriptEngine.eval(JspScriptEngineFactory.java:536)`<br>`at org.apache.sling.scripting.core.impl.DefaultSlingScript.call(DefaultSlingScript.java:388)`<br>`at org.apache.sling.scripting.core.impl.DefaultSlingScript.eval(DefaultSlingScript.java:184)`<br>`at org.apache.sling.scripting.core.impl.DefaultSlingScript.service(DefaultSlingScript.java:491)`<br>`at org.apache.sling.engine.impl.request.RequestData.service(RequestData.java:546)`<br>`at org.apache.sling.engine.impl.filter.SlingComponentFilterChain.render(SlingComponentFilterChain.java:44)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:77)`<br>`at com.day.cq.personalization.impl.TargetComponentFilter.doFilter(TargetComponentFilter.java:96)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.day.cq.wcm.core.impl.WCMDebugFilter.doFilter(WCMDebugFilter.java:133)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.day.cq.wcm.core.impl.WCMComponentFilter.filterRootInclude(WCMComponentFilter.java:362)`<br>`at com.day.cq.wcm.core.impl.WCMComponentFilter.doFilter(WCMComponentFilter.java:177)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at org.apache.sling.engine.impl.SlingRequestProcessorImpl.processComponent(SlingRequestProcessorImpl.java:282)`<br>`at org.apache.sling.engine.impl.filter.RequestSlingFilterChain.render(RequestSlingFilterChain.java:49)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:77)`<br>`at com.adobe.cq.social.ugcbase.security.impl.SaferSlingPostServlet.doFilter(SaferSlingPostServlet.java:114)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.day.cq.dam.core.impl.assetlinkshare.AdhocAssetShareAuthHandler.doFilter(AdhocAssetShareAuthHandler.java:381)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.day.cq.dam.core.impl.servlet.ActivityRecordHandler.doFilter(ActivityRecordHandler.java:155)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:73)`<br>`at com.adobe.granite.requests.logging.impl.RequestLoggerImpl.doFilter(RequestLoggerImpl.java:127)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.adobe.granite.csrf.impl.CSRFFilter.doFilter(CSRFFilter.java:220)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at org.apache.sling.security.impl.ContentDispositionFilter.doFilter(ContentDispositionFilter.java:181)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.day.cq.wcm.core.impl.AuthoringUIModeServiceImpl.doFilter(AuthoringUIModeServiceImpl.java:292)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.day.cq.wcm.core.impl.warp.TimeWarpFilter.doFilter(TimeWarpFilter.java:106)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.day.cq.wcm.mobile.core.impl.redirect.RedirectFilter.doFilter(RedirectFilter.java:248)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.day.cq.analytics.provisioning.impl.UserAuthenticationRequestFilter.doFilter(UserAuthenticationRequestFilter.java:119)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at org.apache.sling.engine.impl.debug.RequestProgressTrackerLogFilter.doFilter(RequestProgressTrackerLogFilter.java:95)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.adobe.cq.social.commons.cors.CORSAuthenticationFilter.doFilter(CORSAuthenticationFilter.java:91)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.day.cq.wcm.foundation.forms.impl.FormsHandlingServlet.doFilter(FormsHandlingServlet.java:285)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.adobe.granite.optout.impl.OptOutFilter.doFilter(OptOutFilter.java:74)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.day.cq.wcm.core.impl.WCMRequestFilter.doFilter(WCMRequestFilter.java:90)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.adobe.cq.mcm.campaign.servlets.CampaignCopyTracker.doFilter(CampaignCopyTracker.java:100)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at org.apache.sling.rewriter.impl.RewriterFilter.doFilter(RewriterFilter.java:83)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.adobe.granite.httpcache.impl.InnerCacheFilter.doFilter(InnerCacheFilter.java:77)`<br>`at com.adobe.granite.httpcache.impl.InnerCacheFilter.doFilter(InnerCacheFilter.java:56)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.adobe.granite.rest.impl.servlet.ApiResourceFilter.doFilter(ApiResourceFilter.java:67)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at org.apache.sling.i18n.impl.I18NFilter.doFilter(I18NFilter.java:129)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at org.apache.sling.bgservlets.impl.BackgroundServletStarterFilter.doFilter(BackgroundServletStarterFilter.java:169)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at com.adobe.granite.resourceresolverhelper.impl.ResourceResolverHelperImpl.doFilter(ResourceResolverHelperImpl.java:84)`<br>`at org.apache.sling.engine.impl.filter.AbstractSlingFilterChain.doFilter(AbstractSlingFilterChain.java:68)`<br>`at org.apache.sling.engine.impl.SlingRequestProcessorImpl.doProcessRequest(SlingRequestProcessorImpl.java:151)`<br>`at org.apache.sling.engine.impl.SlingMainServlet.service(SlingMainServlet.java:216)`<br>`at org.apache.felix.http.base.internal.handler.ServletHandler.handle(ServletHandler.java:85)`<br>`at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:79)`<br>`at com.adobe.granite.license.impl.LicenseCheckFilter.doFilter(LicenseCheckFilter.java:308)`<br>`at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)`<br>`at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)`<br>`at org.apache.felix.http.sslfilter.internal.SslFilter.doFilter(SslFilter.java:89)`<br>`at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)`<br>`at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)`<br>`at org.apache.sling.security.impl.ReferrerFilter.doFilter(ReferrerFilter.java:290)`<br>`at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)`<br>`at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)`<br>`at org.apache.sling.i18n.impl.I18NFilter.doFilter(I18NFilter.java:129)`<br>`at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)`<br>`at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)`<br>`at org.apache.sling.featureflags.impl.FeatureManager.doFilter(FeatureManager.java:116)`<br>`at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)`<br>`at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)`<br>`at org.apache.sling.engine.impl.log.RequestLoggerFilter.doFilter(RequestLoggerFilter.java:75)`<br>`at org.apache.felix.http.base.internal.handler.FilterHandler.handle(FilterHandler.java:135)`<br>`at org.apache.felix.http.base.internal.dispatch.InvocationChain.doFilter(InvocationChain.java:74)`<br>`at org.apache.felix.http.base.internal.dispatch.Dispatcher.dispatch(Dispatcher.java:124)`<br>`at org.apache.felix.http.base.internal.DispatcherServlet.service(DispatcherServlet.java:61)`<br>`at javax.servlet.http.HttpServlet.service(HttpServlet.java:725)`<br>`at org.eclipse.jetty.servlet.ServletHolder.handle(ServletHolder.java:812)`<br>`at org.eclipse.jetty.servlet.ServletHandler.doHandle(ServletHandler.java:587)`<br>`at org.eclipse.jetty.server.session.SessionHandler.doHandle(SessionHandler.java:221)`<br>`at org.eclipse.jetty.server.handler.ContextHandler.doHandle(ContextHandler.java:1127)`<br>`at org.eclipse.jetty.servlet.ServletHandler.doScope(ServletHandler.java:515)`<br>`at org.eclipse.jetty.server.session.SessionHandler.doScope(SessionHandler.java:185)`<br>`at org.eclipse.jetty.server.handler.ContextHandler.doScope(ContextHandler.java:1061)`<br>`at org.eclipse.jetty.server.handler.ScopedHandler.handle(ScopedHandler.java:141)`<br>`at org.eclipse.jetty.server.handler.ContextHandlerCollection.handle(ContextHandlerCollection.java:215)`<br>`at org.eclipse.jetty.server.handler.HandlerWrapper.handle(HandlerWrapper.java:97)`<br>`at org.eclipse.jetty.server.Server.handle(Server.java:499)`<br>`at org.eclipse.jetty.server.HttpChannel.handle(HttpChannel.java:311)`<br>`at org.eclipse.jetty.server.HttpConnection.onFillable(HttpConnection.java:257)`<br>`at org.eclipse.jetty.io.AbstractConnection$2.run(AbstractConnection.java:544)`<br>`at org.eclipse.jetty.util.thread.QueuedThreadPool.runJob(QueuedThreadPool.java:635)`<br>`at org.eclipse.jetty.util.thread.QueuedThreadPool$3.run(QueuedThreadPool.java:555)`<br>`at java.lang.Thread.run(Thread.java:745)` |
| --- |

<b>환경</b>

AEM 6.x

<b>원인</b>

JSP 세션이 슬링 스크립트 포함 스택에 나중에 추가됩니다.  바이트가 응답에 충분히 기록되므로 JSESSIONID 쿠키를 추가하기 전에 Jetty 서블릿 엔진이 응답 버퍼를 자동으로 플러시합니다. 이 경우 오류가 발생합니다.

## 해상도

이 문제에 대해 몇 가지 가능한 솔루션이 있습니다.

1. 애플리케이션에 JSP 세션이 필요하지 않으면 모든 jsp 파일의 맨 위에 이 코드가 추가되었는지 확인합니다.

   ```
   %@ page session="false"%
   ```

1. 애플리케이션 JSP 코드를 수정하여 슬링 해결 프로세스에서 이전에 로드된 JSP 파일에 JSP 세션을 추가합니다.  이를 위해 JSP 세션 플래그를 true로 설정합니다.

   ```
   %@ page session="true"%
   ```

1. 아니면 조기 자동 플러시를 피하기 위해 Jetty 서블릿 엔진의 응답 버퍼 크기를 늘립니다. 응답 버퍼 크기를 Jetty OSGi 구성(http://host:port/system/console/configMgr/org.apache.felix.http)에 설정할 수 있습니다. 안전하게 200,000까지 늘릴 수 있습니다.
